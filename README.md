## The Estonian Coreference System
The first version of a machine learning configurable system of pronominal coreference resolution for the Estonian. The system has been tested on **Mac OS X** and **Linux**.

### Prerequisites
1. **Python 3.6.10**. We recommend to install the [Anaconda](https://www.anaconda.com/products/individual) distribution
2. **Stanza**.  [Stanza](https://stanfordnlp.github.io/stanza/) is a collection of accurate and efficient tools for many human languages. 
Install the Stanza model for the Estonian language.
3. **Scikit-learn**. [Scikit-learn](https://scikit-learn.org/stable/) is the most popular toolkit for machine learning in python. If you have installed Anaconda, you can
skip this step as Anaconda offers scikit-learn as part of its free distribution
4. **XGBoost** classifier. 
     - *pip install xgboost*
5. **Estonian word embeddings**. The system uses the word embeddings models generated by Alexander Tkachenko 
(more details [here](https://entu.keeleressursid.ee/shared/7540/I7G5aC1YgdInohMJjUhi1d5e4jLdhQerZ4ikezz1JEv3B9yuJt9KiPl9lrS87Yz0) )
     -  Download the model **lemmas.cbow.s100.w2v.bin** and copy it under *estonian_resources/estonian_embeddings*
     
     
 ### Train 
 - The system comes with a trained model found under the directory *estonian_results/estonian_training_corpus-sklearn.txt*. 
 If you want to reproduce the training model, then the training command is under **train.sh**. Below we explain the command arguments :
    - --catalog estonian_configuration_files/estonian_catalog.xml [*The Estonian catalogs of resources in an XML file*]
    - --corpus_dir estonian_resources/estonian_training_corpus  [*The path to the training corpus*]
    - --sklearn_file estonian_results/estonian_training_corpus-sklearn.txt [*The path to the file where the trained model will be stored*]  
    - --feature_names_file estonian_results/estonian-computed-features.txt [*The path to the file where the names of the computed features will be stored*]
    
   ### Test
   - The system comes with a small test corpus found under the directory *estonian_resources/estonian_test_corpus/*. 
   To run the test script, run **test.sh**. Below we explain the command arguments :
      - --catalog estonian_configuration_files/estonian_catalog.xml [*The Estonian catalogs of resources in an XML file (like in training)*]
      - --corpus_dir estonian_resources/estonian_test_corpus [*The path to the test corpus*]
      - --corpus_tagged_dir estonian_resources/estonian_tagged_test_corpus [*The path to the tagged test corpus by the Stanza tool*]
      - --sklearn_file_training estonian_results/estonian_training_corpus-sklearn.txt [*The path to the file containing the training model*]
      - --sklearn_file_test estonian_results/estonian_test_corpus-sklearn.txt [*The path to the file containing the computed features for the test corpus*]
      - --feature_names_file estonian_results/estonian-computed-features.txt [*The path to the file where the names of the computed features have been stored*]
      - --output_file coreference_pairs.txt [*The output containing the computed coreference pairs. See below an example of output*]
   - The output file contains a computed coreference pair per line with the fields separated by # :
       - artikkel_4.txt#virtuaal_maa_ilm#MENTION#7#tema#PRON#17#3#3. The coreference pair is (virtuaal_maa_ilm, tema) in the file artikkel_4.txt . 
       *virtuaal_maa_ilm* is the lemma of the 7th token in the sentence 3, the pronoun *tema* is the 17 token in the sentence 3.
       
   ### Credits
   1. The Estonian coreference system has been written by **Eduard Barbu** 
   2. The training corpus has been annotated by **Linda Freienthal** and **Kadri Muischnek**
   3. The features computed by the system have been devised by **Kadri Muischnek**, **Linda Freienthal** and **Eduard Barbu** 
   
   ### Contact
   1. If you have questions or comments, write to **Eduard Barbu** (eduard dot barbu at ut dot ee)
       
